define("interface-widget-1:quota/context.js",function(e,t,a){function n(e){return 2199023255552>=e?1:2748779069440>e?2:e>3298534883328&&5497558138880>e?2:e>=5497558138880?3:0}function i(e,t){if(t&&"number"==typeof e&&(e/=8),"number"==typeof e||"string"==typeof e&&/^[\d.]+$/.test(e)){if(1024>e)return Math.round(e)+"B";if(1048576>e&&e>=1024)return Math.round(e/1024)+"KB";if(1073741824>e&&e>=1048576)return 10*(e/1024/1024).toFixed(1)/10+"M";if(0xfa00000000>e&&e>=2017460224)return 10*(e/1024/1024/1024).toFixed(1)/10+"G";if(e>=0xfa00000000&&1073741824e4>e)return Math.round(1*(e/1024/1024/1024).toFixed(2))+"G";if(e>=1073741824e4)return Math.round(1*(e/1024/1024/1024/1024).toFixed(2))+"T"}return"-"}function r(e){var t=n(e),a=u[t];return['<div node-type="ezAXQm" class="QGOvsxb" style="_visibility:visible;">','	<div node-type="pjzwP5Zw" class="JGDHAe">','		<div class="get-capacity">','			<span><a node-type="nerA2pP" href="//yun.baidu.com/buy/center?tag=1&from=kr2t" ','           target="_blank">',"           开通会员，升至2T永久容量</a></span>","		</div>","	</div>",'	<div node-type="lbviA9EA" class="capacityforvip">','			<span class="vip-icon"></span><span>正在尊享超大空间特权</span>',"	</div>",'	<div node-type="fsgjA03w" class="quota-over-tips">','		<span node-type="hatPE5P" class="quota-over-tips-close">×</span>','		<div node-type="lxw1dP hatPE5P" class="quota-over-text">',"		</div>",'       <a class="quota-over-btn" href=""></a>','		<em class="quota-over-bg"></em>',"	</div>",'	<ul class="tDuODs">','		<li class="g-clearfix bar">','		<div node-type="eolemrlw" class="remainingSpaceUi">','			<span node-type="dtgP6rP" class="remainingSpaceUi_span"></span>',"		</div>",'		<div class="DIeHPCb remaining-space">','			<span node-type="mjmpQP" class="bold">0</span>/<span node-type="pupzAnom">0</span>',"		</div>",'		<div class="GELdyA">','          <a node-type="mbbfwDZm" target="_blank" href="'+a.href+'">扩容'+a.type+"</a>","       </div>","		</li>","	</ul>","</div>"].join("")}function o(e,t){var a=t>=e?"已":"将",i=1===+yunData.ISSVIP?"space-full3":"space-full";switch(n(e)){case 1:return{text:"容量"+a+"满，购买容量套餐即可尊享更多容量空间！",href:"//yun.baidu.com/buy/center?tag=2&from="+i,btn:"购买容量"};case 2:return{text:"容量"+a+"满，开通会员即刻尊享2T容量等10项特权！",href:"//yun.baidu.com/buy/center?tag=1&from="+i,btn:"开通会员"};case 0:case 3:default:return{text:"容量"+a+"满，开通超级会员即刻尊享5T容量等15项特权！",href:"//yun.baidu.com/buy/center?tag=8&from="+i,btn:"开通超级会员"}}}var s={context:null},c={mix:{web_aside_click_addDisk:{sendServerLog:!0,description:"左侧容量条点击扩容"},web_aside_free_quota_2048:{sendServerLog:!0,description:"左侧免费领取2048G容量"}}},u=[{type:"",href:"//yun.baidu.com/buy/center?tag=8&from=kr"},{type:"至2T",href:"//yun.baidu.com/buy/center?tag=1&from=kr"},{type:"至5T",href:"//yun.baidu.com/buy/center?tag=8&from=kr"},{type:"",href:"//yun.baidu.com/buy/center?tag=2&from=kr"}];a.exports={getTipText:o,toFriendlyFileSizeByT:i,getHtml:r,getContext:function(){return s.context},setContext:function(e){s.context||(s.context=e,e&&e.log&&e.log.define&&e.log.define(c))}}});
;define("interface-widget-1:quota/quota.js",function(e,t,o){function a(e){e.css("background","#fc9259")}function i(e,t){var o=1.5*t/100;setTimeout(function(){e.css({"transition-duration":o+"s"}),e.width(t+"%")},300)}function n(e){e.find(_.addDisk).on("click",function(){l().log.send({name:"web_aside_click_addDisk",value:"左侧容量条点击扩容"})}),e.find(_.freeQuota).on("click",function(){l().log.send({name:"web_aside_free_quota_2048",value:"左侧免费领取2048G容量"})}),e.find(_.quotaOverTipsClose).on("click",function(){r(_.quotaOverTips).hide(),c.setItem(w.MYUK+"_closeviptip",1)}),e.find(_.remainingSpaceUi).hover(function(){w.ISSVIP&&r(_.capacityforvip).show()},function(){w.ISSVIP&&r(_.capacityforvip).hide()})}function s(e){if("1"!==c.getItem(w.MYUK+"_closeviptip")){var t=r(_.quotaOverText),o=r(_.quotaOverTips),a=r(_.quotaOverTipsClick);r(_.quotaOverBtn).html(e.btn).attr("href",e.href),t.html(e.text),o.show(),a.one("click",function(){l().log.send({url:"/api/analytics",type:"web_aside_quota_"+(1===+w.ISVIP?1===+w.ISSVIP?"svip_renew_click":"renew_click":"buy_click"),from:1===+w.ISSVIP?"space-full3":"space-full"}),r.get("/api/user/closeWindow",{type:"quota"}),o.hide()}),l().log.send({url:"/api/analytics",type:"web_aside_quota_"+(1===+w.ISVIP?1===+w.ISSVIP?"svip_renew_view":"renew_view":"buy_view"),from:1===+w.ISSVIP?"space-full3":"space-full"})}}function u(e){e&&e.length&&r.ajax({url:"/api/quota",data:{checkexpire:1,checkfree:1},type:"get",dataType:"json",success:function(t){var o=f(t.used),u=f(t.total);e.html(v(t.total)),e.find(_.quotaUsed).html(o),e.find(_.quotaTotal).html(u);var d=Math.min(100,t.used/t.total*100),p=parseFloat(t.total-t.used),l=e.find(_.capacity),k=e.find(_.quotaPerc),h=r(_.quotaOverTips),I=!1;i(k,d),90>=d&&d>60?(c.setItem(w.MYUK+"_closeviptip",0),k.css("background","#ffd821")):d>=90&&p>0?(a(k),I=!0,10737418240>p&&t.is_show_window&&1===+t.is_show_window&&(g=!0)):0>=p?(t.is_show_window&&1===+t.is_show_window&&(g=!0),I=!0,a(k)):(c.setItem(w.MYUK+"_closeviptip",0),k.css("background","#92ef55")),!I&&t.total<1099511627776&&"none"===h.css("display")&&l.css("display","block"),w.QUOTAINFOS=w.QUOTAINFOS||{},w.QUOTAINFOS.total=t.total,w.QUOTAINFOS.used=t.used,y&&s(q(t.total,t.used)),n(e)}})}var c=e("base:widget/storage/storage.js"),d=e("base:widget/libs/underscore.js"),r=e("base:widget/libs/jquerypacket.js"),p=e("interface-widget-1:quota/context.js"),l=p.getContext,f=p.toFriendlyFileSizeByT,v=p.getHtml,q=p.getTipText,w=window.yunData,y=!1,_={capacity:'div[node-type~="pjzwP5Zw"]',quotaUsed:'span[node-type~="mjmpQP"]',quotaTotal:'span[node-type~="pupzAnom"]',quotaPerc:'span[node-type~="dtgP6rP"]',quotaFull:'div[node-type~="eolemrlw"]',awardDisk:'div[node-type~="fQtdLAb"]',freeQuota:'a[node-type~="nerA2pP"]',addDisk:'a[node-type~="mbbfwDZm"]',quotaOver:'li[node-type~="yEQdBx"]',quotaOverTips:'div[node-type~="fsgjA03w"]',overdueTips:'div[node-type~="EsbcNG"]',quotaOverLink:'a[node-type~="JtBDgtb"]',quotaOverTipsClose:".quota-over-tips-close",quotaOverText:".quota-over-text",quotaOverBtn:".quota-over-btn",remainingSpaceUi:".remainingSpaceUi",capacityforvip:".capacityforvip",quotaOverTipsClick:'[node-type~="hatPE5P"]'},g=!1;o.exports={render:function(e){l().message.listenSystem("quota-change",function(){u()}),(u=d.partial(u,e))()},showQuotaTip:function(e){e&&g&&(y=!0,s())}}});
;define("interface-widget-1:quota/start.js",function(t,e,o){var a=t("interface-widget-1:quota/quota.js"),n=t("interface-widget-1:quota/context.js");o.exports.start=function(t,e){n.setContext(t),"showQuotaTip"===e.showType?a.showQuotaTip(!0):a.render(e.$container,e)}});