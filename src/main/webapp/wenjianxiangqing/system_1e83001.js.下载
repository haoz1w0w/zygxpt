define("disk-share:widget/system/util/FELog.js",function(e,t,a){function n(e){e?(this.url=""||e.url,this.logObjectName="fe_log_",this.baseParam=null||e.baseParam,this.sendBaseParamTag=e.sendBaseParamTag||!0):(this.url="",this.logObjectName="fe_log_",this.baseParam=null,this.sendBaseParamTag=!0),this.UrlLength=900}n.obtain=null,n.prototype={send:function(e){var t,a=e.url||this.url,n=(new Date).getTime(),s={};if(this.sendBaseParamTag)for(t in this.baseParam)s[t]="function"==typeof this.baseParam[t]?this.baseParam[t]():this.baseParam[t];var i={};for(t in e)"url"!=t&&(i[t]="function"==typeof e?e[t]():e[t]);for(var r=this._getRequestUrl(n,a,s,i),l=0,o=r.length;o>l;l++)this._request(n,l,r[l])},_request:function(e,t,a){var n=this.logObjectName+"_"+e+"_"+t;window[n]=new Image;var s=window[n];s.onload=s.onerror=function(){window[n]=null},s.src=a,s=null},_getRequestUrl:function(e,t,a,n){var s,i=[],r=[];if(a)for(s in a)r.push(s+"="+a[s]);r=r.join("&"),r=""==r?"":"&"+r;var l=t+"?_lsid="+e+"&_lsix=1"+r,o=1;for(s in n)if("[object Array]"===Object.prototype.toString.apply(n[s])){for(var h=n[s],g=[],u=l.length+s.length+2,f=0,m=h.length;m>f;f++)u+=h[f].length+1,u>this.UrlLength?(i.push(l+"&"+s+"="+g.join()),o++,g=[],u=l.length+s.length+2,l=t+"?_lsid="+e+"&_lsix="+o+r,f--):g.push(h[f]);g.length>0&&(l+="&"+s+"="+g.join())}else l.length+s.length>this.UrlLength&&(i.push(l),o++,l=t+"?_lsid="+e+"&_lsix="+o+r),l+="&"+s+"="+n[s];return i.push(l),i}},n.obtain=n.obtain||new n({url:"/api/analytics",logObjectName:"fe_log",baseParam:{page:1,clienttype:0},sendBaseParamTag:!1}),a.exports=n});
;define("disk-share:widget/system/fileOperate/fileOperate.js",function(l,a,e){var r=l("base:widget/tools/tools.js"),d=l("system-core:context/context.js").instanceForSystem,i=d.pluginControl,m=i.Registry,n=i.BrokerData.getAllData().fileIcon;e.exports.getInfo=function(l,a,e,d,i){l=l||"";var o=l.substring(l.lastIndexOf("/")+1),t={fileName:o,name:r.toEntity(o)};if(d)return t.smallIcon="dir-multi-small",t.middleIcon="dir-multi-middle",t.largeIcon="dir-multi-large",t;if(a)return l.match(/^\/apps$/)?(t.smallIcon="dir-apps-small",t.largeIcon="dir-apps-large",t.middleIcon="dir-apps-middle",t.name="我的应用数据",t):l.match(/^\/百度云收藏$/)?(t.smallIcon="dir-cang-small",t.largeIcon="dir-cang-large",t.middleIcon="dir-cang-middle",t.name="我的收藏",t):l.match(/^\/来自PC的备份文件$/)?(t.smallIcon="dir-backup-small",t.largeIcon="dir-backup-large",t.middleIcon="dir-backup-middle",t):l.match(/^\/apps\//)||l.match(/^\/百度云收藏\//)||l.match(/^\/来自PC的备份文件\//)?(t.smallIcon="dir-app-small",t.largeIcon="dir-app-large",t.middleIcon="dir-app-middle",t):l.match(/^cardHolder/)?(t.smallIcon="dir-card-small",t.largeIcon="dir-card-large",t.middleIcon="dir-card-middle",t.name="我的卡包",t):l.match(/^shareHolder/)?(t.smallIcon="dir-share-small",t.largeIcon="dir-share-large",t.middleIcon="dir-share-middle",t.name="共享给我的文件夹",t):i?(t.smallIcon="dir-share-small",t.largeIcon="dir-share-large",t.middleIcon="dir-share-middle",t):(t.smallIcon="dir-small",t.largeIcon="dir-large",t.middleIcon="dir-middle",t);t.largeIcon="default-large",t.smallIcon="default-small",t.middleIcon="default-middle";var c=-1!==l.lastIndexOf(".")?r.getFileCategory(l):"*";n[c]&&(3===n[c].length?(t.smallIcon=n[c][0],t.largeIcon=n[c][1],t.middleIcon=n[c][2]):2===n[c].length?(t.smallIcon=n[c][0],t.largeIcon=n[c][1]):(t.smallIcon=n[c],t.largeIcon=n[c]));var s=m.getDefaultPluginIdByExtension(c);return!e&&s&&(s=m.getPluginById(s).name+"@"+m.getOtherInfoById(s).group),t.plugin=s,t};var o=["dir","multi","shouchang","yingyong","yingyong_child","beifen","doc","docx","xls","xlsx","ppt","pptx","pdf","txt","jpg","jpeg","gif","bmp","png","jpe","cur","svg","svgz","tif","tiff","ico","wma","wav","mp3","aac","ra","ram","mp2","ogg","aif","mpega","amr","mid","midi","m4a","wmv","rmvb","mpeg4","mpeg2","flv","avi","3gp","mpga","qt","rm","wmz","wmd","wvx","wmx","wm","swf","mpg","mp4","mkv","mpeg","mov","asf","zip","rar","torrent"];e.exports.isOpenedFile=function(l,a){return a&&"torrent"===l?!1:o.indexOf(l)>=0}});
;define("disk-share:widget/system/util/lazyLoadImage.js",function(t,i,o){function e(){function t(){e.isReady=!0,l.isFunction(e.callback)&&e.callback()}if(g||d||!h)return void t();var i=u.getItem(b);return i?(I.HTTPVersion=i,void t()):void r.getJSON("https://thumbnail10.baidupcs.com/httpv").fail(function(){u.setItem(b,"1.1")}).done(function(t){u.setItem(b,t.version),I.HTTPVersion=t.version}).always(function(){t()})}function a(t){if(t&&"2"===String(I.HTTPVersion))return"thumbnail10.baidupcs";var i=t?y:_;return I[i][v++%10]}function s(t){if(!t)return!1;if(t.src)return!1;var i=t.getAttribute("_src"),o=i.indexOf(p)>-1,e=i.indexOf(f)>-1;if(!o&&!e)return!1;var s=o?p:f,n=p;o&&g&&(n=a()),e&&(n=a(!0)),s!==n&&(i=i.replace(s,n)),t._src=i}function n(){c.call(this),this.images=[]}for(var r=t("base:widget/libs/jquerypacket.js"),l=t("base:widget/libs/underscore.js"),c=t("base:widget/tools/service/tools.event.js").EventEmitter,m=t("base:widget/tools/service/tools.util.js"),u=t("base:widget/storage/storage.js"),d=!1,h=(XMLHttpRequest&&"withCredentials"in XMLHttpRequest.prototype),g="http:"===document.location.protocol,p="d.pcs.baidu.com",f="thumbnail0.baidupcs",b="thumbs_hv",I={HTTPVersion:"1.1",normalDomains:[],thumbsDomains:[]},v=0,_="normalDomains",y="thumbsDomains",w=0;10>w;w++)I.normalDomains.push("d"+w+".pcs.baidu.com"),I.thumbsDomains.push("thumbnail"+w+".baidupcs");e.isReady=!1,e(),m.inherits(n,c),n.prototype.changeImages=function(t){if([].push.apply(this.images,t||[]),e.isReady)this._loadImage();else{var i=this;e.callback=function(){i._loadImage()}}},n.prototype._loadImage=function(){if(0!==this.images.length){var t=this.images.shift(),i=s(t);i!==!1&&(this._installImage(t),this._loadImage())}},n.prototype._installImage=function(t){var i=l.now(),o=this;t.hasError||(t.src=t._src),t.complete?o._loadImageSucc(t):(t.onload=function(){o._loadImageSucc(this,l.now()-i)},t.onerror=function(){t.hasError=!0,o._loadImageFail(this)})},n.prototype._loadImageSucc=function(t){this.emit("done",t),this._commonLoadImageCall(t)},n.prototype._loadImageFail=function(t){this.emit("fail",t),this._commonLoadImageCall(t)},n.prototype._commonLoadImageCall=function(t){t.onload=t.onerror=null,this._loadImage()},o.exports=n});
;define("disk-share:widget/system/util/selection.js",function(t,e,i){function a(t){var e=t.parentNode.parentNode;t.style.height="auto",t.style.width="auto";var i=t.naturalWidth||t.width,a=t.naturalHeight||t.height;(i>h(e).width()||a>h(e).height())&&(i>=a?t.style.width="100%":t.style.height="100%")}var h=t("base:widget/libs/jquerypacket.js");i.exports={resizeImage:a}});
;define("disk-share:widget/system/swfUtil/swfUtil.js",function(e,t,a){function n(e,t){var a,s,l,f,y="",m={type:"application/x-shockwave-flash",width:"100%",height:"100%"},v={wmode:"transparent",menu:!1,allowScriptAccess:"always"};if(!t&&e&&(t=e,e=null),"[object Object]"===Object.prototype.toString.call(t)&&t.src){if(e&&(s=o.getElementById(e)),function(e){for(var a,n=e.length,i={};n--;)i[e[n]]=1;for(a in t)i[a]?m[a]=t[a]:v[a]=t[a]}(d.split(" ")),w){if(y=r(m,v),parseFloat(t.version||b)>w){if(u)return;f=2,g=y,m.id=h,l=t.base||n.base||"",l&&"/"!==l.slice(-1)&&(l+="/"),v.src=l+p,!/%$/.test(m.width)&&parseInt(m.width,10)<310&&(m.width="310"),!/%$/.test(m.height)&&parseInt(m.height,10)<137&&(m.height="137"),a="MMredirectURL="+location.href+"&MMplayerType="+(c?"ActiveX":"PlugIn")+"&MMdoctitle="+encodeURIComponent(o.title.slice(0,47)+" - Flash Player Installation"),v.flashvars=v.flashvars?v.flashvars+"&"+a:a,y=r(m,v),u=!0}}else s&&s.firstChild||(y=i(m)),f=1;return s&&y&&(s.innerHTML=y),f&&"function"==typeof t.fallback&&t.fallback(f),y}}function i(e){var t=e.width,a=e.height,n="number"==typeof t?t+"px":t,i="number"==typeof a?a+"px":a;return'<a target="_blank" href="//www.adobe.com/go/getflash"><span style="display:block;cursor:pointer;background:#EFEFEF url(//www.adobe.com/images/shared/download_buttons/get_flash_player.gif) center center no-repeat;width:'+n+";height:"+i+';" title="Get Adobe Flash player"></span></a>'}function r(e,t){var a,n="";if(c){e.classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",n+="<object"+s(e)+">";for(a in t)n+='<param name="'+a+'" value="'+t[a]+'">';n+="</object>"}else n+="<embed"+s(t)+s(e)+">";return n}function s(e){var t,a="";for(t in e)a+=" "+t+'="'+e[t]+'"';return a}function l(e){"string"==typeof e&&(e=o.getElementById(e).firstChild),e&&e.tagName&&(c&&"OBJECT"===e.tagName?(e.style.display="none",function(){if(4==e.readyState){for(var t in e)"function"==typeof e[t]&&(e[t]=null);e.parentNode.removeChild(e)}else setTimeout(arguments.callee,15)}()):e.parentNode.removeChild(e),u=!1)}var o=document,c=!!window.ActiveXObject,f="",d="width height name id class style title type align tabindex usemap",p="expressInstall.swf?"+ +new Date,h="ExpressInstall",u=!1,g="",b="9,0,28,0",w=function(){var e,t,a="ShockwaveFlash";if(c)try{e=new ActiveXObject(a+"."+a).GetVariable("$version"),e&&(e=e.split(" ")[1].split(",").join("."))}catch(n){}else t=navigator.plugins["Shockwave Flash"],"object"==typeof t&&(e=t.description.split(" ")[2]);return parseFloat(e)}();n.destroy=l,n.flashVersion=w,n.base=function(e){if(!e){var t=o.getElementsByTagName("script"),a=t[t.length-1];e=a.src}return e.split("/").slice(0,-1).join("/")}(f),n.installCallback=function(){if(u){var e=o.getElementById(h),t=e.parentNode;l(e),t.innerHTML=g,g="",u=!1}},a.exports=n});
;define("disk-share:widget/system/activateGuide/activateGuide.js",function(t,i,e){var a=t("base:widget/libs/jquerypacket.js"),n={};n.LoginActivate=1,n.unLoginActivate=2,n.main=function(){var t=this;this._insertStyle(),a(window).ready(function(){1==yunData.LOGINSTATUS?a.get("/api/account/uinfo?t="+(new Date).getTime(),function(i){try{var e=a.parseJSON(i)||i}catch(o){}0==e.type&&t.warmupHTML(n.LoginActivate)}):t.warmupHTML(n.unLoginActivate)})},n.insertStyle=function(t){var i=document.createElement("style");i.type="text/css",document.getElementsByTagName("head")[0].appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))},n._insertStyle=function(){if(!this._styleInserted){this._styleInserted=!0;var t=[],i="",e="";if(i="undefined"!=typeof Page&&(Page.inViewMode(Page.VIEW_PROPERTY_OTHER)||Page.inViewMode(Page.VIEW_HOME_PAGE_SLAVE))?"25px":"5px",a.browser.msie&&6==a.browser.version){e="absolute";var n=0;a(window).scroll(function(){clearTimeout(n),n=setTimeout(function(){"5px"==a(".activate-outer").css("bottom")&&a(".activate-outer").css("bottom","6px").css("bottom","5px")},200)})}else e="fixed";t.push(".activate-outer { display:none; background:#fcfaf2; width: 265px;bottom: -195px;z-index: 2999;padding: 10px;border: 1px solid #d4d4d4;border-radius: 3px;color:#424e67;}"),t.push(".activate-outer {right: "+i+"; position:"+e+"; }"),t.push(".activate-outer dl { margin-bottom: 10px;}"),t.push(".activate-h{ font-size: 14px; font-weight: bold;}"),t.push(".activate-cls-btn{ width: 20px; height: 20px; background: url(/yun-static/common/images/btn_icon.gif) -106px -114px no-repeat;cursor: pointer;}"),t.push(".activate-noti{ padding: 20px;}"),t.push(".activate-noti-h-ico{ width: 25px;  height: 20px; background:url(/yun-static/common/images/btn_icon.gif) 0px -576px no-repeat; _display:inline; margin: 0 7px 0 -3px;}"),t.push(".activate-btn,.activate-btn b{ position: relative; height: 37px;width: 130px;display: block;text-align: center;line-height: 37px;margin: 0 auto;font-size: 14px;color: white;background: #fd6d65;text-decoration: none;cursor: pointer;padding-left: 1px; font-weight: normal; }"),t.push(".activate-btn b{ background-position: right -711px; }"),t.push(".activate-btn:hover,.activate-btn:active{ color: white;text-decoration:none; }"),t.push(".activate-btn:hover{background-position:  0 -763px; }"),t.push(".activate-btn:hover b{ background-position: right -763px; }"),t.push(".activate-btn:active{background-position:  0 -817px; }"),t.push(".activate-btn:active b{ background-position: right -817px; }"),t.push(".activate-qq { width: 280px;}"),t.push(".activate-qq .activate-noti { padding: 30px 15px;}"),t.push(".activate-qq .activate-btn b{ }"),t.push(".activate-qq .activate-qq-ico { height: 27px;width: 24px;position: absolute;left: 10px;top: 5px;background: url('/yun-static/common/images/btn_icon.gif') -29px -577px no-repeat;z-index: 1;}"),t.push(".active-disk { width: 300px; height: 200px; background:url(/res/static/images/active_pan_1024.png?t=201308291902) center no-repeat; border: none; padding: 0;}"),t.push(".active-disk .activate-disk-cls-btn { display:block; width:10px; height:10px; position:absolute; top:8px; right:10px; cursor:pointer; font-size: 0;}"),t.push(".active-disk .activate-disk-btn { display:block; width:175px; height:45px; position:absolute; top:145px; left:60px; cursor:pointer;font-size: 0;}"),this.insertStyle(t.join(""))}},n.warmupHTML=function(t){var i=[];switch(t){case n.LoginActivate:i.push('<div id="activateGuidePopupOuter" class="activate-outer">'),i.push('<dl class="clearfix"><span class="activate-noti-h-ico b-fl"></span><h1 class="activate-h b-fl">百度网盘赠送空间</h1><span class="activate-cls-btn b-fr"></span></dl>'),i.push('<dl class="activate-noti clearfix"><!--span class="activate-noti-ico b-fl"></span-->发放福利啦！你已是百度用户，点击即可领取百度网盘<span style="font-weight:bold;">2048G永久免费容量</span>。</dl>'),i.push('<dl><a hideFocus="true" target="_blank" href="//pan.baidu.com/disk/home#from=share_activate_guide" class="activate-btn"><b>领取2048G容量</b></a></dl>'),i.push("</div>");break;case n.unLoginActivate:i.push('<div id="activateGuidePopupOuter" class="activate-outer activate-qq">'),i.push('<dl class="clearfix"><span class="activate-noti-h-ico b-fl"></span><h1 class="activate-h b-fl">百度网盘赠送空间</h1><span class="activate-cls-btn b-fr"></span></dl>'),i.push('<dl class="activate-noti clearfix"><!--span class="activate-noti-ico b-fl"></span-->发福利啦！新用户可以获得百度网盘<span style="font-weight:bold;">2048G永久免费容量</span>，超大文件极速秒传！</dl>'),i.push('<dl><a hideFocus="true" class="activate-btn third-qq"><b>领取2048G容量</b></a></dl>'),i.push("</div>")}var e=i.join("");a("body").append(e),this.toggleFn(t),this.toggleLog(t),this.visible(!0),n._buildIFrameMask()},n._buildIFrameMask=function(){var t=document.createElement("iframe");document.getElementById("activateGuidePopupOuter").appendChild(t),t.frameBorder="0",t.src="about:blank",t.style.position="absolute",t.style.left="0",t.style.top="0",t.style.zIndex="-1",t.style.width="100%",t.style.height="100%",a(t).css("opacity","0")},n.toggleFn=function(t){var i=this;switch(a(".activate-cls-btn , .activate-btn").click(function(){i.visible(!1)}),t){case n.unLoginActivate:n.thirdLogin()}},n.thirdLogin=function(){if("undefined"!=typeof disk){var t=-1;disk.globalThirdLoginSuccess=function(){-1!==document.cookie.indexOf("BDU_THIRD")&&(clearTimeout(t),setTimeout(function(){window.location.reload()},500))}}a(".activate-outer a.third-qq").click(function(){window.location.href="//pan.baidu.com/?frm=sharelogin"})},n.toggleLog=function(t){switch(t){case n.unLoginActivate:a(".activate-cls-btn").click(function(){}),a(".activate-btn").click(function(){});break;case n.LoginActivate:a(".activate-cls-btn").click(function(){}),a(".activate-btn").click(function(){}),a(".yun-logo").click(function(){CommonService.diskLog.send({type:"login_yun_logo_activate"})}),a(".pan-logo").click(function(){})}},n.visible=function(t){t?a(".activate-outer").show().animate({bottom:5},1e3):a(".activate-outer").hide()},n.main(),e.exports=n});
;define("disk-share:widget/system/errorMsg/errorMsg.js",function(a){var e=a("system-core:context/context.js").instanceForSystem,r=window.yunData,t=function(){var a="multi-file";0===location.pathname.indexOf("/disk/home")&&(a="disk-home");var e="//yun.baidu.com/buy/center?tag=1&from="+a,t="购买会员";return(1===r.ISVIP||"1"===r.ISVIP)&&(e="//yun.baidu.com/buy/center?tag=2&from="+a,t="购买容量"),'你的空间不足了哟，赶紧<a target="_blank" href="'+e+'">'+t+"</a>吧"}(),n={0:"成功","-1":"由于您分享了违反相关法律法规的文件，分享功能已被禁用，之前分享出去的文件不受影响。","-2":"用户不存在,请刷新页面后重试","-3":"文件不存在,请刷新页面后重试","-4":"登录信息有误，请重新登录试试","-5":"host_key和user_key无效","-6":"请重新登录","-7":"该分享已删除或已取消","-8":"该分享已经过期","-9":"访问密码错误","-10":"分享外链已经达到最大上限100000条，不能再次分享","-11":"验证cookie无效","-14":"对不起，短信分享每天限制20条，你今天已经分享完，请明天再来分享吧！","-15":"对不起，邮件分享每天限制20封，你今天已经分享完，请明天再来分享吧！","-16":"对不起，该文件已经限制分享！","-17":"文件分享超过限制","-30":"文件已存在","-31":"文件保存失败","-33":"一次支持操作999个，减点试试吧","-32":t,"-70":"你分享的文件中包含病毒或疑似病毒，为了你和他人的数据安全，换个文件分享吧",2:"参数错误",3:"未登录或帐号无效",4:"存储好像出问题了，请稍候再试",108:"文件名有敏感词，优化一下吧",110:"分享次数超出限制，可以到“我的分享”中查看已分享的文件链接",114:"当前任务不存在，保存失败",115:"该文件禁止分享",112:'页面已过期，请<a href="javascript:window.location.reload();">刷新</a>后重试',9100:'你的帐号存在违规行为，已被冻结，<a href="/disk/appeal" target="_blank">查看详情</a>',9200:'你的帐号存在违规行为，已被冻结，<a href="/disk/appeal" target="_blank">查看详情</a>',9300:'你的帐号存在违规行为，该功能暂被冻结，<a href="/disk/appeal" target="_blank">查看详情</a>',9400:'你的帐号异常，需验证后才能使用该功能，<a href="/disk/appeal" target="_blank">立即验证</a>',9500:'你的帐号存在安全风险，已进入保护模式，请修改密码后使用，<a href="/disk/appeal" target="_blank">查看详情</a>'};e.extendErrorMsg(n)});
;define("disk-share:widget/system/fileOperate/fileCreateAndMove.js",function(e,t,i){function s(e,t,i,s,o){for(var a,c,l=[],p=null,f=0,h=t.length;h>f;f++)p=t[f].path,a=r.tools.baseService.parseDirPath(p),c=r.tools.baseService.parseDirFromPath(p),l.push({path:a,dest:i,newname:c});n.post("/api/filemanager?channel=chunlei&clienttype=0&web=1&opera="+e,{filelist:n.stringify(l)},s,"json").error(o)}function o(e,t,i,s,o,c){var l,p,f=r.tools.baseService.parseDirFromPath(e),h="";if(a.test(f))return h="文件名不能包含以下字符：<,>,|,*,?,,/",c(h),!1;if(f.length>0){for(p=0,l=0;p<f.length;p++)f.charCodeAt(p)<128?l++:l+=2;l>255&&(h="文件(夹)名称长度不能超过255字节",c(h))}else h="文件(夹)名称不能为空，请输入文件名称",c(h);h||n.post("/api/create?a=commit",{path:e,isdir:i,size:t,block_list:s?'["'+s+'"]':"[]",method:"post"},o,"json")}var n=e("base:widget/libs/jquerypacket.js"),r=e("system-core:context/context.js").instanceForSystem,a=/[\\\/:*?'<>|]/i;i.exports.createAndMoveTo=function(e,t,i,n){o(e,"",1,null,function(){setTimeout(function(){s("copy"+i,t,e,n)},1e3)})}});
;define("disk-share:widget/system/header/header.js",function(e){var d=e("base:widget/libs/jquerypacket.js"),a=e("system-core:context/context.js"),n=a.instanceForSystem,o='<div id="layoutHeader"><div node-type="module" class="module-header" style="position: relative;z-index: 45 !important;"><!-- header fragment --><div node-type="module-header-wrapper" class="module-header-wrapper" style="height: 62px;position:relative;"><!-- loading header ... --></div><!-- /header fragment --></div></div>';d(function(){d("#layoutApp").append(o);var i=d("div.module-header");"hao123-iframe"===n.tools.baseService.getParam("frm")?i.hide():(window.$=window.jQuery=d,d.ajax({url:"/box-static/disk-header/disk.header.js",dataType:"script",cache:!0}).done(function(){a.prototype.addIconFont=window.yunHeader.fontIe.api.addIconFont,n.message.listen("addIcon",function(e){n.addIconFont&&window.yunHeader.emit("addicon",e)}),window.yunHeader.on("login",function(){e.async("base:widget/passAPI/passAPI.js",function(e){e.promise.done(function(){e.passAPI.PassportInit.netdiskLogin({reload:!0})})})})}))})});
;define("disk-share:widget/system/report/report.js",function(e){var o=e("base:widget/libs/jquerypacket.js"),t=e("system-core:context/context.js").instanceForSystem,n=t.ui.dialog,r=t.message,i={obj:{reportDialog:null,reportOkDialog:null},mod:{reportInfoBox:"div.report-info-box",btnReport:"a[node-type=btn-report]",reportReason:"div[node-type=report-reason] input",reportReasonSpan:"div[node-type=report-reason] span"},tmpl:{reportTitle:'<ol><li>影视、音乐、软件、文学等版权类和其他侵权投诉<a target="_blank" href="//yun.baidu.com/disk/privacy" >侵权投诉</a></li><li class="report-mt20">违法有害信息，请在下方选择原因提交举报。</li></ol>',reportContent:'<div class="report-reason" node-type="report-reason"><p class="report-reason-title">举报原因：</p><span><input type="radio" value="2" checked="checked"  name="reportReason" /><label>淫秽色情</label></span><span><input type="radio" value="3"  name="reportReason" /><label>血腥暴力</label></span><span><input type="radio" value="4"  name="reportReason" /><label>政治有害</label></span><span><input type="radio" value="5"  name="reportReason" /><label>其他违反法律法规</label></span></div>',reportOkContent:'<div class="report-ok-info"><div class="report-ok-left"></div><div class="report-ok-right"><p>举报成功,谢谢!</p><p>您的举报我们会尽快处理,感谢您对百度网盘的支持</p></div></div>'},api:{sumitReason:"/api/report/bad"},util:{getDialog:function(e){return i.obj[e]||(i.obj[e]=new n),i.obj[e]},newReportDialog:function(e){var t=i.util.getDialog("reportDialog");o("#"+t._mCancleId).hide();var n="",r="";r=e&&"sharelink"===e.feture||e&&"sharefile"===e.feture?i.tmpl.reportTitle+i.tmpl.reportContent:i.tmpl.reportContent,e&&"group"===e.feture?t.setMessage("举报群组",r,function(){i.util.reportBtnOk(e)}):(n=e&&"groupfile"===e.feture?"举报文件":"举报",t.setMessage(n,r,function(){i.util.reportBtnOk(e)})),t.setButton("提交"),t.addClass("report-info-box"),t.setVisible(!0)},newReportOkDialog:function(){var e=i.util.getDialog("reportOkDialog");o("#"+e._mCancleId).hide(),o("#"+e._mDeterId).hide(),o("#"+e._mPanelId).children(".header").hide(),e.setMessage("成功",i.tmpl.reportOkContent),e.hideFooter(),e.addClass("report-ok-box"),e.setVisible(!0),o("#"+e._mPanelId).off().on("click",function(){i.obj.reportOkDialog.setVisible(!1)}),setTimeout(function(){i.obj.reportOkDialog.setVisible(!1)},3e3)},reportBtnOk:function(e){var t=o(i.mod.reportReason+":checked").val();e.report_type=t,i.util.reportSubmt(e)},reportSubmt:function(e){var n=e,r=window.yunData||{};return r.MYUK?(i.util.getDialog("reportDialog").setVisible(!1),void o.post(i.api.sumitReason,n,function(e){e&&0===e.errno?i.util.newReportOkDialog():e&&-6===e.errno?i.util.toLogin():t.ui.tip({mode:"caution",msg:t.errorMsg(e.errno,"请稍候重试!"),sticky:!1})})):(i.util.toLogin(),!1)},toLogin:function(){e.async("base:widget/passAPI/passAPI.js",function(e){t.ui.hideTip(),e.promise.done(function(){e.passAPI.PassportInit.netdiskLogin({reload:!1}),e.passAPI.PassLoginDialog.onLoginSuccessCallback=function(){e.passAPI.PassportInit.hide(),t.log.send({name:"download_share_single_size_limit_login_success"}),t.log.sendUserReport("web_dialog_login"),setTimeout(function(){window.location.reload()},200)}}),t.log.send({name:"download_share_single_size_limit_login_dialog_show"})})},reportLogger:function(e){t.log.send({name:"report-bad-"+e})},bindEvent:function(){o("body").on("click",i.mod.reportReasonSpan,function(){o(this).children("input").prop("checked",!0)}),r.listen("report-do",function(e){i.util.newReportDialog(e),i.util.reportLogger(e.feture)})}}},a=function(){i.util.bindEvent()};a()});
;define("disk-share:widget/system/util/contextExtend.js",function(e){var t=e("system-core:context/context.js").instanceForSystem,i=e("disk-share:widget/data/yunData.js"),r=t.ui.list,s=e("disk-share:widget/system/fileOperate/fileOperate.js"),n=e("disk-share:widget/system/fileOperate/fileCreateAndMove.js");e("disk-share:widget/system/errorMsg/errorMsg.js"),e("disk-share:widget/system/header/header.js"),t.extend({file:{getIconAndPlugin:function(e,t,i){return s.getInfo(e,t,!1,i)},isOpenedFile:function(e,t){return s.isOpenedFile(e,t)},getFileInfo:function(e,t,i,r,n){return s.getInfo(e,t,i,r,n)},createAndMoveTo:n.createAndMoveTo},data:{user:i.get()},ui:{list:function(e,t){var i=r(e,t);return i.extend({resizeScrollBar:function(e){var t=this.$container;if("number"==typeof e||"string"==typeof e?t.height(e):e=t.height(),0===e)throw"[Error] list container's height is 0, need to set";t.height(e);var i=this.listHeader.hasInit===!1?0:52;"none"===t.find(".JDeHdxb").css("display")?(t.find(".NHcGw").height(e-i).find(".scrollbar-tracker").height(e-i-2),t.find(".BNfIyPb").height(e-i).find(".scrollbar-tracker").height(e-i-2)):(t.find(".NHcGw").height(e-73).find(".scrollbar-tracker").height(e-73),t.find(".BNfIyPb").height(e-73).find(".scrollbar-tracker").height(e-73))}}),i}},pageInfo:{currentProduct:"share",currentPage:"share-multi"}})});